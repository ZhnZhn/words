{"version":3,"sources":["../../../src/flux/watch-list/WithLogicList.js"],"names":["crMsgNotFound","LogicFn","crMsgListExisted","findGroup","isInArraySameCaption","getArrayWithObj","findIndex","getArrayWithRename","filter","WithLogicList","createList","watchList","captionGroup","captionList","groupTo","lists","caption","isDone","renameList","captionListFrom","captionListTo","groupIn","listIndex","deleteList","groupFrom"],"mappings":";;;;;;;AACA;;IAGEA,a,GASEC,mB,CATFD,a;IACAE,gB,GAQED,mB,CARFC,gB;IAEAC,S,GAMEF,mB,CANFE,S;IACAC,oB,GAKEH,mB,CALFG,oB;IACAC,e,GAIEJ,mB,CAJFI,e;IACAC,S,GAGEL,mB,CAHFK,S;IACAC,kB,GAEEN,mB,CAFFM,kB;IACAC,M,GACEP,mB,CADFO,M;AAGF,IAAMC,aAAa,GAAG;AAEpBC,EAAAA,UAFoB,sBAETC,SAFS,QAE8B;AAAA,QAA3BC,YAA2B,QAA3BA,YAA2B;AAAA,QAAbC,WAAa,QAAbA,WAAa;AAChD,QAAMC,OAAO,GAAGX,SAAS,CAACQ,SAAD,EAAYC,YAAZ,CAAzB;;AAEA,QAAI,CAACE,OAAL,EAAa;AACX,aAAOd,aAAa,CAAC,OAAD,EAAUY,YAAV,CAApB;AACD;;AACD,QAAMG,KAAK,GAAGD,OAAO,CAACC,KAAtB;;AACA,QAAIX,oBAAoB,CAACW,KAAD,EAAQF,WAAR,CAAxB,EAA6C;AAC3C,aAAOX,gBAAgB,CAACW,WAAD,EAAcD,YAAd,CAAvB;AACD;;AAEDE,IAAAA,OAAO,CAACC,KAAR,GAAgBV,eAAe,CAACU,KAAD,EAAQ;AAAEC,MAAAA,OAAO,EAAEH;AAAX,KAAR,CAA/B;AACA,WAAO;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GAfmB;AAiBpBC,EAAAA,UAjBoB,sBAiBTP,SAjBS,SAiBiD;AAAA,QAA9CC,YAA8C,SAA9CA,YAA8C;AAAA,QAAhCO,eAAgC,SAAhCA,eAAgC;AAAA,QAAfC,aAAe,SAAfA,aAAe;AACnE,QAAMC,OAAO,GAAGlB,SAAS,CAACQ,SAAD,EAAYC,YAAZ,CAAzB;;AAEA,QAAI,CAACS,OAAL,EAAa;AACX,aAAOrB,aAAa,CAAC,OAAD,EAAUY,YAAV,CAApB;AACD;;AACD,QAAMG,KAAK,GAAGM,OAAO,CAACN,KAAtB;AACA,QAAMO,SAAS,GAAGhB,SAAS,CAACS,KAAD,EAAQI,eAAR,CAA3B;;AACA,QAAIG,SAAS,KAAK,CAAC,CAAnB,EAAqB;AACnB,aAAOtB,aAAa,CAAC,MAAD,EAASmB,eAAT,CAApB;AACD;;AACD,QAAKf,oBAAoB,CAACW,KAAD,EAAQK,aAAR,CAAzB,EAAiD;AAC/C,aAAOlB,gBAAgB,CAACkB,aAAD,EAAgBR,YAAhB,CAAvB;AACD;;AAEDS,IAAAA,OAAO,CAACN,KAAR,GAAgBR,kBAAkB,CAACQ,KAAD,EAAQO,SAAR,EAAmBF,aAAnB,CAAlC;AACA,WAAO;AAAEH,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD,GAlCmB;AAoCpBM,EAAAA,UApCoB,sBAoCTZ,SApCS,SAoC8B;AAAA,QAA3BC,YAA2B,SAA3BA,YAA2B;AAAA,QAAbC,WAAa,SAAbA,WAAa;AAChD,QAAMW,SAAS,GAAGrB,SAAS,CAACQ,SAAD,EAAYC,YAAZ,CAA3B;;AAEA,QAAI,CAACY,SAAL,EAAe;AACb,aAAOxB,aAAa,CAAC,OAAD,EAAUY,YAAV,CAApB;AACD;;AAEDY,IAAAA,SAAS,CAACT,KAAV,GAAkBP,MAAM,CAACgB,SAAS,CAACT,KAAX,EAAkBF,WAAlB,CAAxB;AACA,WAAO;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAAP;AACD;AA7CmB,CAAtB;eAiDeR,a","sourcesContent":["\r\nimport LogicFn from './LogicFn';\r\n\r\nconst {\r\n  crMsgNotFound,\r\n  crMsgListExisted,\r\n\r\n  findGroup,\r\n  isInArraySameCaption,\r\n  getArrayWithObj,\r\n  findIndex,\r\n  getArrayWithRename,\r\n  filter\r\n} = LogicFn;\r\n\r\nconst WithLogicList = {\r\n\r\n  createList(watchList, {captionGroup, captionList}){\r\n    const groupTo = findGroup(watchList, captionGroup)\r\n\r\n    if (!groupTo){\r\n      return crMsgNotFound('group', captionGroup);\r\n    }\r\n    const lists = groupTo.lists;\r\n    if (isInArraySameCaption(lists, captionList)){\r\n      return crMsgListExisted(captionList, captionGroup);\r\n    }\r\n\r\n    groupTo.lists = getArrayWithObj(lists, { caption: captionList });\r\n    return { isDone: true };\r\n  },\r\n\r\n  renameList(watchList, {captionGroup, captionListFrom, captionListTo}){\r\n    const groupIn = findGroup(watchList, captionGroup);\r\n\r\n    if (!groupIn){\r\n      return crMsgNotFound('group', captionGroup);\r\n    }\r\n    const lists = groupIn.lists;\r\n    const listIndex = findIndex(lists, captionListFrom);\r\n    if (listIndex === -1){\r\n      return crMsgNotFound('list', captionListFrom);\r\n    }\r\n    if ( isInArraySameCaption(lists, captionListTo) ){\r\n      return crMsgListExisted(captionListTo, captionGroup);\r\n    }\r\n\r\n    groupIn.lists = getArrayWithRename(lists, listIndex, captionListTo);\r\n    return { isDone: true };\r\n  },\r\n\r\n  deleteList(watchList, {captionGroup, captionList}){\r\n    const groupFrom = findGroup(watchList, captionGroup);\r\n\r\n    if (!groupFrom){\r\n      return crMsgNotFound('group', captionGroup);\r\n    }\r\n\r\n    groupFrom.lists = filter(groupFrom.lists, captionList);\r\n    return { isDone: true };\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicList\r\n"],"file":"WithLogicList.js"}