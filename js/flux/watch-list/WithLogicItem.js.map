{"version":3,"sources":["../../../src/flux/watch-list/WithLogicItem.js"],"names":["crMsgItemExisted","findGroup","findList","isInArraySameCaption","filter","WithLogicItem","addItem","watchList","item","caption","groupCaption","listCaption","toGroup","toList","items","push","isDone","removeItem","groupFrom","listFrom"],"mappings":";;;;;;AAAA;;;;;;IAGEA,gB,qBAAAA,gB;IAEAC,S,qBAAAA,S;IACAC,Q,qBAAAA,Q;IACAC,oB,qBAAAA,oB;IACAC,M,qBAAAA,M;;;AAGF,IAAMC,gBAAgB;AAEpBC,SAFoB,mBAEZC,SAFY,EAEDC,IAFC,EAEI;AAAA,QAEfC,OAFe,GAGZD,IAHY,CAEfC,OAFe;AAAA,QAENC,YAFM,GAGZF,IAHY,CAENE,YAFM;AAAA,QAEQC,WAFR,GAGZH,IAHY,CAEQG,WAFR;AAAA,QAIhBC,OAJgB,GAINX,UAAUM,SAAV,EAAqBG,YAArB,CAJM;AAAA,QAKhBG,MALgB,GAKPX,SAASU,OAAT,EAAkBD,WAAlB,CALO;AAAA,QAMhBG,KANgB,GAMRD,OAAOC,KANC;;;AAQtB,QAAKX,qBAAqBW,KAArB,EAA4BL,OAA5B,CAAL,EAA2C;AACzC,aAAOT,iBAAiBS,OAAjB,EAA0BE,WAA1B,CAAP;AACD;AACD,QAAIG,KAAJ,EAAU;AACRD,aAAOC,KAAP,CAAaC,IAAb,CAAkB,EAAEN,gBAAF,EAAlB;AACD,KAFD,MAEO;AACLI,aAAOC,KAAP,GAAe,CAAC,EAAEL,gBAAF,EAAD,CAAf;AACD;AACD,WAAO,EAAEO,QAAQ,IAAV,EAAP;AACD,GAnBmB;AAqBpBC,YArBoB,sBAqBTV,SArBS,QAqBuC;AAAA,QAApCG,YAAoC,QAApCA,YAAoC;AAAA,QAAtBC,WAAsB,QAAtBA,WAAsB;AAAA,QAATF,OAAS,QAATA,OAAS;;AACzD,QAAMS,YAAYjB,UAAUM,SAAV,EAAqBG,YAArB,CAAlB;AAAA,QACMS,WAAWjB,SAASgB,SAAT,EAAoBP,WAApB,CADjB;;AAGAQ,aAASL,KAAT,GAAiBV,OAAOe,SAASL,KAAhB,EAAuBL,OAAvB,CAAjB;AACD;AA1BmB,CAAtB;;kBA8BeJ,a","file":"WithLogicItem.js","sourcesContent":["import LogicFn from './LogicFn';\r\n\r\nconst {\r\n  crMsgItemExisted,\r\n\r\n  findGroup,\r\n  findList,\r\n  isInArraySameCaption,\r\n  filter\r\n} = LogicFn;\r\n\r\nconst WithLogicItem = {\r\n\r\n  addItem(watchList, item){\r\n    const {\r\n           caption, groupCaption, listCaption,\r\n          } = item\r\n        , toGroup = findGroup(watchList, groupCaption)\r\n        , toList = findList(toGroup, listCaption)\r\n        , items = toList.items;\r\n\r\n    if ( isInArraySameCaption(items, caption) ){\r\n      return crMsgItemExisted(caption, listCaption);\r\n    }\r\n    if (items){\r\n      toList.items.push({ caption });\r\n    } else {\r\n      toList.items = [{ caption }];\r\n    }\r\n    return { isDone: true };\r\n  },\r\n\r\n  removeItem(watchList, {groupCaption, listCaption, caption}){\r\n    const groupFrom = findGroup(watchList, groupCaption)\r\n        , listFrom = findList(groupFrom, listCaption);\r\n\r\n    listFrom.items = filter(listFrom.items, caption);\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicItem\r\n"]}