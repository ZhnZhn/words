{"version":3,"sources":["../../../src/flux/logic/loadItem.js"],"names":["_fnCatch","error","onFailed","_fFetch","adapter","json","option","onCompleted","config","toConfig","itemConf","loadItem","api","getRequestUrl","crOptions","checkResponse","fetchOptions","undefined","uri","onCheckResponse","onFetch","onCatch"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,WAAW,SAAXA,QAAW,OAAyB;AAAA,MAAtBC,KAAsB,QAAtBA,KAAsB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACxCA,WAASD,KAAT;AACD,CAFD;;AAIA,IAAME,UAAU,SAAVA,OAAU,CAACC,OAAD;AAAA,SAAa,iBAAuC;AAAA,QAA5BC,IAA4B,SAA5BA,IAA4B;AAAA,QAAtBC,MAAsB,SAAtBA,MAAsB;AAAA,QAAdC,WAAc,SAAdA,WAAc;;AAClE,QAAMC,SAASJ,QAAQK,QAAR,CAAiBJ,IAAjB,EAAuBC,MAAvB,CAAf;AACA,QAAMI,WAAWJ,OAAOI,QAAxB;AACAH,gBAAY,EAAEC,cAAF,EAAUE,kBAAV,EAAZ,EAAkCJ,MAAlC;AACD,GAJe;AAAA,CAAhB;;AAMA,IAAMK,WAAW,SAAXA,QAAW,CAASL,MAAT,EAAiBC,WAAjB,EAA8BL,QAA9B,EAAuC;AAAA,MAC9CU,GAD8C,GAC7BN,MAD6B,CAC9CM,GAD8C;AAAA,MACzCR,OADyC,GAC7BE,MAD6B,CACzCF,OADyC;AAAA,MAE9CS,aAF8C,GAEFD,GAFE,CAE9CC,aAF8C;AAAA,MAE/BC,SAF+B,GAEFF,GAFE,CAE/BE,SAF+B;AAAA,MAEpBC,aAFoB,GAEFH,GAFE,CAEpBG,aAFoB;AAAA,MAGhDC,YAHgD,GAGhC,OAAOF,SAAP,KAAqB,UAAtB,GACXA,UAAUR,MAAV,CADW,GAEXW,SAL4C;;AAMtD,oBAAQ;AACNC,SAAKL,cAAcP,MAAd,CADC;AAENA,YAAQA,MAFF;AAGNU,kBAAcA,YAHR;AAING,qBAAiBJ,aAJX;AAKNK,aAASjB,QAAQC,OAAR,CALH;AAMNG,iBAAaA,WANP;AAONc,aAASrB,QAPH;AAQNE,cAAUA;AARJ,GAAR;AAUD,CAhBD;;kBAkBeS,Q","file":"loadItem.js","sourcesContent":["import fnFetch from '../../utils/fn'\r\n\r\nconst _fnCatch = ({ error, onFailed }) => {\r\n  onFailed(error)\r\n};\r\n\r\nconst _fFetch = (adapter) => function({ json, option, onCompleted }){\r\n  const config = adapter.toConfig(json, option);\r\n  const itemConf = option.itemConf;\r\n  onCompleted({ config, itemConf }, option)\r\n};\r\n\r\nconst loadItem = function(option, onCompleted, onFailed){\r\n  const { api, adapter } = option\r\n      , { getRequestUrl, crOptions, checkResponse } = api\r\n      , fetchOptions = (typeof crOptions === 'function')\r\n          ? crOptions(option)\r\n          : undefined;\r\n  fnFetch({\r\n    uri: getRequestUrl(option),\r\n    option: option,\r\n    fetchOptions: fetchOptions,\r\n    onCheckResponse: checkResponse,\r\n    onFetch: _fFetch(adapter),\r\n    onCompleted: onCompleted,\r\n    onCatch: _fnCatch,\r\n    onFailed: onFailed\r\n  })\r\n};\r\n\r\nexport default loadItem\r\n"]}