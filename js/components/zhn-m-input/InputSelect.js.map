{"version":3,"sources":["../../../src/components/zhn-m-input/InputSelect.jsx"],"names":["CL","SELECT","LABEL","DIV","DIV_VALUE","DIV_BT","INPUT_LINE","ITEM","InputSelect","props","_handleOpen","setState","isShow","_handleClose","_handleSelect","item","event","stopPropagation","onSelect","state","initialOptions","options","initItem","getDerivedStateFromProps","caption","value","render","TS","styleConfig","ROOT","MODAL_PANE","CL_ITEM","Component","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport ArrowCell from './ArrowCell'\r\nimport OptionsPane from './OptionsPane'\r\n\r\nconst CL = {\r\n  SELECT: 'm-select',\r\n  LABEL: 'm-select__label',\r\n  DIV: 'm-select__div',\r\n  DIV_VALUE: 'm-select__div__value',\r\n  DIV_BT: 'm-select__div__bt',\r\n  INPUT_LINE: 'm-select__line',\r\n  ITEM: 'm-select__item'\r\n};\r\n\r\nclass InputSelect extends Component {\r\n  static defaultProps = {\r\n    initItem: {\r\n      caption: '',\r\n      value: ''\r\n    },\r\n    styleConfig: {},\r\n    onSelect: () => {}\r\n  }\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      isShow: false,\r\n      initialOptions: props.options,\r\n      item: props.initItem\r\n    }\r\n  }\r\n\r\n  /*\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (nextProps.options !== this.props.options) {\r\n      this.setState({\r\n        item: {\r\n          caption: '',\r\n          value: ''\r\n        }\r\n      })\r\n    }\r\n  }\r\n  */\r\n\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.options !== state.initialOptions) {\r\n      return {\r\n        isShow: false,\r\n        initialOptions: props.options,\r\n        item: {\r\n          caption: '',\r\n          value: ''\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n\r\n  _handleOpen = () => {\r\n    this.setState({ isShow: true })\r\n  }\r\n  _handleClose = () => {\r\n    this.setState({ isShow: false })\r\n  }\r\n  _handleSelect = (item, event) => {\r\n    event.stopPropagation()\r\n    this.props.onSelect(item)\r\n    this.setState({\r\n      isShow: false,\r\n      item: item\r\n    })\r\n  }\r\n\r\n\r\n  render(){\r\n    const { caption, options, styleConfig:TS } = this.props\r\n        , { isShow, item } = this.state;\r\n    return (\r\n      <div\r\n        className={CL.SELECT}\r\n        style={TS.ROOT}\r\n        onClick={this._handleOpen}\r\n      >\r\n        <OptionsPane\r\n           rootStyle={TS.MODAL_PANE}\r\n           isShow={isShow}\r\n           item={item}\r\n           options={options}\r\n           clItem={TS.CL_ITEM || CL.ITEM}\r\n           itemStyle={TS.ITEM}\r\n           onSelect={this._handleSelect}\r\n           onClose={this._handleClose}\r\n         />\r\n        <label className={CL.LABEL}>\r\n          {caption}\r\n        </label>\r\n        <div className={CL.DIV}>\r\n          <div className={CL.DIV_VALUE}>\r\n             {item.caption}\r\n          </div>\r\n          <button className={CL.DIV_BT} tabIndex=\"0\">\r\n            <div>\r\n              <ArrowCell />\r\n            </div>\r\n          </button>\r\n          <div className={CL.INPUT_LINE} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InputSelect\r\n"],"file":"InputSelect.js"}