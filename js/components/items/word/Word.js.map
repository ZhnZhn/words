{"version":3,"sources":["../../../../src/components/items/word/Word.jsx"],"names":["D_REMOVE_UNDER","D_REMOVE_ITEM","CL_ITEM_HEADER","S","ROOT","position","lineHeight","marginBottom","marginRight","boxShadow","borderBottomRightRadius","LEFT_LINE","top","left","width","height","backgroundColor","HEADER","paddingTop","paddingLeft","paddingBottom","borderTopRightRadius","HEADER_OPEN","borderLeft","CAPTION","display","color","fontSize","fontWeight","paddingRight","cursor","CAPTION_OPEN","SVG_CLOSE","float","right","Word","props","_handleToggle","setState","isShow","prevState","_handleClose","onCloseItem","config","_handleHide","headerComp","focus","_onDragEnd","dX","onRemoveUnder","_onDragTouchEnd","_refItemHeader","comp","state","theme","onAddToWatch","title","caption","TS","createStyle","_headerStyle","_captionStyle","DESCR","defaultProps"],"mappings":"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","file":"Word.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport withTheme from '../../hoc/withTheme'\r\nimport styleConfig from './Word.Style'\r\n\r\nimport DndOnlyX from '../../zhn-dnd/DndOnlyX'\r\n\r\nimport ItemHeader from '../ItemHeader'\r\nimport WordDef from './WordDef'\r\n\r\n\r\nconst D_REMOVE_UNDER = 60;\r\nconst D_REMOVE_ITEM = 35;\r\n\r\nconst CL_ITEM_HEADER = \"article-header\"\r\n\r\nconst S = {\r\n  ROOT: {\r\n    position : 'relative',\r\n    lineHeight : 1.5,\r\n    marginBottom: '5px',\r\n    marginRight: '25px',\r\n    boxShadow: '1px 4px 6px 1px rgba(0,0,0,0.6)',\r\n    borderBottomRightRadius: '2px'\r\n  },\r\n  LEFT_LINE: {\r\n    position: 'absolute',\r\n    top: '0px',\r\n    left: 'Opx',\r\n    width: '3px',\r\n    height: '8px',\r\n    backgroundColor: '#3F51B5'\r\n  },\r\n  HEADER: {\r\n    backgroundColor: '#404040',\r\n    paddingTop: '8px',\r\n    paddingLeft: '16px',\r\n    paddingBottom: '16px',\r\n    lineHeight: 1.5,\r\n    width : '100%',\r\n    borderTopRightRadius: '2px',\r\n    borderBottomRightRadius: '2px',\r\n  },\r\n  HEADER_OPEN: {\r\n    borderLeft: '6px solid #607d8b'\r\n  },\r\n  CAPTION: {\r\n    display : 'inline-block',\r\n    color: 'black',\r\n    fontSize: '18px',\r\n    fontWeight : 'bold',\r\n    paddingRight: '32px',\r\n    cursor: 'pointer'\r\n  },\r\n  CAPTION_OPEN: {\r\n    color: '#607d8b',\r\n  },\r\n  SVG_CLOSE: {\r\n    float: 'none',\r\n    position: 'absolute',\r\n    top: '8px',\r\n    right: '0px'\r\n  }\r\n}\r\n\r\nclass Word extends Component {\r\n\r\n  static defaultProps = {\r\n    config: {}\r\n  }\r\n\r\n  constructor(props){\r\n    super()\r\n    this.state = {\r\n      isShow: false\r\n    }\r\n  }\r\n\r\n  _handleToggle = () => {\r\n    this.setState(prevState => ({\r\n      isShow: !prevState.isShow\r\n    }))\r\n  }\r\n\r\n  _handleClose = () => {\r\n    const {\r\n            onCloseItem,\r\n            config\r\n          } = this.props;\r\n    onCloseItem(config)\r\n  }\r\n\r\n  _handleHide = () => {\r\n    this.headerComp.focus()\r\n    this.setState({ isShow: false })\r\n  }\r\n\r\n  _onDragEnd = (dX) => {\r\n    const { onRemoveUnder, config } = this.props;\r\n    if (dX > D_REMOVE_UNDER) {\r\n      onRemoveUnder(config)\r\n    } else if (dX > D_REMOVE_ITEM){\r\n      this._handleClose()\r\n    }\r\n  }\r\n\r\n  _onDragTouchEnd = (dX) => {\r\n    if (dX > D_REMOVE_UNDER) {\r\n      this._handleClose()\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  _refItemHeader = (comp) => {\r\n    this.headerComp = comp\r\n  }\r\n\r\n  render() {\r\n    const {config, theme, onAddToWatch } = this.props\r\n        , { title, caption } = config\r\n        , TS = theme.createStyle(styleConfig)\r\n        , { isShow } = this.state\r\n        , _headerStyle = isShow\r\n             ? { ...S.HEADER, ...S.HEADER_OPEN }\r\n             : S.HEADER\r\n        , _captionStyle = isShow\r\n             ? { ...S.CAPTION, ...S.CAPTION_OPEN }\r\n             : S.CAPTION;\r\n    return (\r\n        <DndOnlyX\r\n          style={S.ROOT}\r\n          onDragEnd={this._onDragEnd}\r\n          onDragTouchEnd={this._onDragTouchEnd}\r\n        >\r\n          <ItemHeader\r\n             ref={this._refItemHeader}\r\n             className={CL_ITEM_HEADER}\r\n             style={{ ..._headerStyle, ...TS.HEADER }}\r\n             captionStyle={_captionStyle}\r\n             svgCloseStyle={S.SVG_CLOSE}\r\n             title={title}\r\n             caption={caption}\r\n             isShow={isShow}\r\n             onClick={this._handleToggle}\r\n             onClose={this._handleClose}\r\n             onAddToWatch={onAddToWatch}\r\n          />\r\n          <WordDef\r\n            style={TS.DESCR}\r\n            isShow={isShow}\r\n            config={config}\r\n          />\r\n        </DndOnlyX>\r\n      );\r\n    }\r\n}\r\n\r\nexport default withTheme(Word)\r\n"]}