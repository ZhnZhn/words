{"version":3,"sources":["../../../src/components/watch-browser/WatchBrowser.jsx"],"names":["C_FILL_OPEN","CL_WATCH_ITEM","DRAG","GROUP","LIST","ITEM","COLOR_CAPTION","S","BROWSER","paddingRight","BT_CIRCLE","position","top","marginLeft","SP","height","overflowY","SP_SHORT","GROUP_DIV","lineHeight","CAPTION","color","LIST_DIV","paddingLeft","borderLeft","ITEM_NOT_SELECTED","marginRight","borderBottom","T","E_V","saveWatch","WatchActions","removeWatchItem","WatchBrowser","Decor","withDnDStyle","withDnDGroup","withDnDList","withDnDItem","props","_onStore","actionType","data","browserType","showAction","updateAction","_handlerShow","setState","watchList","_handlerHide","isShow","_handlerToggleEditMode","isModeEdit","state","_crGroupDraggableOption","option","draggable","onDragStart","_handlerDragStartGroup","bind","onDragEnter","_handlerDragEnterGroup","onDragOver","_handlerDragOverGroup","onDragLeave","_handlerDragLeaveGroup","onDrop","_handlerDropGroup","_crListDraggableOption","_handlerDragStartList","_handlerDragEnterList","_handlerDragOverList","_handlerDragLeaveList","_handlerDropList","_renderWatchList","TS","groups","map","group","index","caption","lists","OPEN_CLOSE","_renderLists","groupCaption","list","items","_renderItems","listCaption","item","id","_handlerClickItem","_handlerRemoveItem","_handlerDragStartItem","_handlerDragOverItem","_handlerDragEnterItem","_handlerDragLeaveItem","_handlerDropItem","isInitShow","store","getWatchList","componentDidMount","unsubscribe","listen","componentWillUnmount","_handlerSaveWatch","_handlerEditGroup","ComponentActions","showModalDialog","ModalDialog","EDIT_WATCH_GROUP","_handlerEditList","EDIT_WATCH_LIST","onClickItem","event","stopPropagation","render","theme","_captionEV","_spStyle","createStyle","styleConfig","BROWSER_CAPTION","CL_SCROLL_PANE","Component","defaultProps"],"mappings":";;;;;;;;;;;;;AAAA;;AAGA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;;;;;AAEA,IAAMA,WAAW,GAAG,SAApB;AACA,IAAMC,aAAa,GAAG,+BAAtB;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,KAAK,EAAG,OADG;AAEXC,EAAAA,IAAI,EAAG,MAFI;AAGXC,EAAAA,IAAI,EAAG;AAHI,CAAb;AAMA,IAAMC,aAAa,GAAG,SAAtB;AAEA,IAAMC,CAAC,GAAG;AACRC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAE;AADP,GADD;AAIRC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE,UADD;AAETC,IAAAA,GAAG,EAAE,CAAC,CAFG;AAGTC,IAAAA,UAAU,EAAE;AAHH,GAJH;AASRC,EAAAA,EAAE,EAAE;AACFC,IAAAA,MAAM,EAAE,KADN;AAEFN,IAAAA,YAAY,EAAE,EAFZ;AAGFO,IAAAA,SAAS,EAAE;AAHT,GATI;AAcRC,EAAAA,QAAQ,EAAE;AACRF,IAAAA,MAAM,EAAE;AADA,GAdF;AAiBRG,EAAAA,SAAS,EAAE;AACTC,IAAAA,UAAU,EAAG;AADJ,GAjBH;AAoBRC,EAAAA,OAAO,EAAE;AACPC,IAAAA,KAAK,EAAEf;AADA,GApBD;AAuBRgB,EAAAA,QAAQ,EAAE;AACRT,IAAAA,UAAU,EAAE,CADJ;AAERU,IAAAA,WAAW,EAAE,EAFL;AAGRC,IAAAA,UAAU,iBAAelB,aAHjB;AAIRa,IAAAA,UAAU,EAAE;AAJJ,GAvBF;AA6BRM,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,WAAW,EAAG,EADG;AAEjBC,IAAAA,YAAY,EAAG;AAFE;AA7BX,CAAV;AAmCA,IAAMC,CAAC,GAAG;AACRrB,EAAAA,CAAC,EAAE,+BADK;AAERsB,EAAAA,GAAG,EAAE;AAFG,CAAV;IAKQC,S,GAA+BC,wB,CAA/BD,S;IAAWE,e,GAAoBD,wB,CAApBC,e;IAMbC,Y,WAJLC,uBAAMC,Y,UACND,uBAAME,YAAN,CAAmBlC,IAAnB,EAAyB6B,wBAAzB,C,UACAG,uBAAMG,WAAN,CAAkBnC,IAAlB,EAAwB6B,wBAAxB,C,UACAG,uBAAMI,WAAN,CAAkBpC,IAAlB,EAAwB6B,wBAAxB,C;;;AAEC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKE,wBAAYQ,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UAmClBC,QAnCkB,GAmCP,UAACC,UAAD,EAAaC,IAAb,EAAsB;AAAA,wBACoB,MAAKH,KADzB;AAAA,UACtBI,WADsB,eACtBA,WADsB;AAAA,UACTC,UADS,eACTA,UADS;AAAA,UACGC,YADH,eACGA,YADH;;AAE9B,UAAIJ,UAAU,KAAKG,UAAf,IAA6BF,IAAI,KAAKC,WAA1C,EAAuD;AACtD,cAAKG,YAAL;AACD,OAFA,MAEM,IAAIL,UAAU,KAAKI,YAAnB,EAAiC;AACtC,cAAKE,QAAL,CAAc;AAAEC,UAAAA,SAAS,EAAEN;AAAb,SAAd;AACD;AACF,KA1CiB;;AAAA,UA4ClBO,YA5CkB,GA4CH,YAAM;AAClB,YAAKF,QAAL,CAAc;AAAEG,QAAAA,MAAM,EAAG;AAAX,OAAd;AACF,KA9CiB;;AAAA,UA+ClBJ,YA/CkB,GA+CH,YAAM;AAClB,YAAKC,QAAL,CAAc;AAAEG,QAAAA,MAAM,EAAG;AAAX,OAAd;AACF,KAjDiB;;AAAA,UAsDlBC,sBAtDkB,GAsDO,YAAM;AAC7B,YAAKJ,QAAL,CAAc;AAAEK,QAAAA,UAAU,EAAG,CAAC,MAAKC,KAAL,CAAWD;AAA3B,OAAd;AACD,KAxDiB;;AAAA,UAiElBE,uBAjEkB,GAiEQ,UAACF,UAAD,EAAaG,MAAb,EAAwB;AAChD,aAAOH,UAAU,GACb;AACAI,QAAAA,SAAS,EAAE,IADX;AAEAC,QAAAA,WAAW,EAAE,MAAKC,sBAAL,CAA4BC,IAA5B,CAAiC,IAAjC,EAAuCJ,MAAvC,CAFb;AAGAK,QAAAA,WAAW,EAAE,MAAKC,sBAHlB;AAIAC,QAAAA,UAAU,EAAE,MAAKC,qBAJjB;AAKAC,QAAAA,WAAW,EAAE,MAAKC,sBALlB;AAMAC,QAAAA,MAAM,EAAE,MAAKC,iBAAL,CAAuBR,IAAvB,CAA4B,IAA5B,EAAkCJ,MAAlC;AANR,OADa,GASf,KAAK,CATP;AAUD,KA5EiB;;AAAA,UA6ElBa,sBA7EkB,GA6EO,UAAChB,UAAD,EAAaG,MAAb,EAAwB;AAC/C,aAAOH,UAAU,GACb;AACAI,QAAAA,SAAS,EAAE,IADX;AAEAC,QAAAA,WAAW,EAAE,MAAKY,qBAAL,CAA2BV,IAA3B,CAAgC,IAAhC,EAAsCJ,MAAtC,CAFb;AAGAK,QAAAA,WAAW,EAAE,MAAKU,qBAHlB;AAIAR,QAAAA,UAAU,EAAE,MAAKS,oBAJjB;AAKAP,QAAAA,WAAW,EAAE,MAAKQ,qBALlB;AAMAN,QAAAA,MAAM,EAAE,MAAKO,gBAAL,CAAsBd,IAAtB,CAA2B,IAA3B,EAAiCJ,MAAjC;AANR,OADa,GASf,KAAK,CATP;AAUD,KAxFiB;;AAAA,UA0FlBmB,gBA1FkB,GA0FC,UAAC1B,SAAD,EAAY2B,EAAZ,EAAmB;AAAA,UAC3BvB,UAD2B,GACZ,MAAKC,KADO,CAC3BD,UAD2B;AAEnC,aAAOJ,SAAS,CAAC4B,MAAV,CAAiBC,GAAjB,CAAqB,UAACC,KAAD,EAAQC,KAAR,EAAkB;AAAA,YACrCC,OADqC,GACnBF,KADmB,CACrCE,OADqC;AAAA,YAC5BC,KAD4B,GACnBH,KADmB,CAC5BG,KAD4B;AAE5C,4BACE,qBAAC,gBAAD,CAAG,UAAH;AAEG,UAAA,KAAK,gCAAO1E,CAAC,CAACW,SAAT,EAAuByD,EAAE,CAACO,UAA1B,CAFR;AAGG,UAAA,YAAY,EAAE3E,CAAC,CAACa,OAHnB;AAIG,UAAA,OAAO,EAAE4D,OAJZ;AAKG,UAAA,eAAe,EAAE,MAAK1B,uBAAL,CAA6BF,UAA7B,EAAyC;AAAE4B,YAAAA,OAAO,EAAPA;AAAF,WAAzC,CALpB;AAAA,oBAQGC,KAAK,IACL,MAAKE,YAAL,CAAkBF,KAAlB,EAAyBD,OAAzB,EAAkCL,EAAlC;AATH,WACQI,KADR,CADF;AAcD,OAhBM,CAAP;AAiBF,KA7GiB;;AAAA,UA+GlBI,YA/GkB,GA+GH,UAACF,KAAD,EAAQG,YAAR,EAAsBT,EAAtB,EAA6B;AAAA,UAClCvB,UADkC,GACnB,MAAKC,KADc,CAClCD,UADkC;AAE1C,aAAO6B,KAAK,CAACJ,GAAN,CAAU,UAACQ,IAAD,EAAON,KAAP,EAAiB;AAAA,YACzBC,OADyB,GACPK,IADO,CACzBL,OADyB;AAAA,YAChBM,KADgB,GACPD,IADO,CAChBC,KADgB;AAEhC,4BACE,qBAAC,gBAAD,CAAG,UAAH;AAEG,UAAA,QAAQ,EAAEtF,WAFb;AAGG,UAAA,KAAK,gCAAOO,CAAC,CAACe,QAAT,EAAsBqD,EAAE,CAACO,UAAzB,CAHR;AAIG,UAAA,YAAY,EAAE3E,CAAC,CAACa,OAJnB;AAKG,UAAA,gBAAgB,EAAEb,CAAC,CAACkB,iBALvB;AAMG,UAAA,OAAO,EAAEuD,OANZ;AAOG,UAAA,eAAe,EAAE,MAAKZ,sBAAL,CAA4BhB,UAA5B,EAAwC;AAAEgC,YAAAA,YAAY,EAAZA,YAAF;AAAgBJ,YAAAA,OAAO,EAAPA;AAAhB,WAAxC,CAPpB;AAAA,oBAUGM,KAAK,IACL,MAAKC,YAAL,CAAkBD,KAAlB,EAAyBF,YAAzB,EAAuCJ,OAAvC;AAXH,WACQD,KADR,CADF;AAgBD,OAlBM,CAAP;AAmBD,KApIiB;;AAAA,UA+IlBQ,YA/IkB,GA+IH,UAACD,KAAD,EAAQF,YAAR,EAAsBI,WAAtB,EAAsC;AAAA,UAC1CpC,UAD0C,GAC5B,MAAKC,KADuB,CAC1CD,UAD0C;AAEjD,aAAOkC,KAAK,CAACT,GAAN,CAAU,UAACY,IAAD,EAAOV,KAAP,EAAiB;AAAA,YACxBW,EADwB,GACRD,IADQ,CACxBC,EADwB;AAAA,YACpBV,OADoB,GACRS,IADQ,CACpBT,OADoB;AAEhC,4BACI,qBAAC,qBAAD;AAEG,UAAA,SAAS,EAAE/E,aAFd;AAGG,UAAA,UAAU,EAAEmD,UAHf;AAIG,UAAA,IAAI,EAAEqC,IAJT;AAKG,UAAA,MAAM,EAAE;AAAEL,YAAAA,YAAY,EAAZA,YAAF;AAAgBI,YAAAA,WAAW,EAAXA,WAAhB;AAA6BR,YAAAA,OAAO,EAAPA;AAA7B,WALX;AAMG,UAAA,OAAO,EAAE,MAAKW,iBANjB;AAOG,UAAA,OAAO,EAAE,MAAKC,kBAPjB;AAQG,UAAA,WAAW,EAAE,MAAKC,qBARrB;AASG,UAAA,UAAU,EAAE,MAAKC,oBATpB;AAUG,UAAA,WAAW,EAAE,MAAKC,qBAVrB;AAWG,UAAA,WAAW,EAAE,MAAKC,qBAXrB;AAYG,UAAA,MAAM,EAAE,MAAKC;AAZhB,WACQP,EADR,CADJ;AAgBD,OAlBM,CAAP;AAmBD,KApKe;;AAGhB,UAAKhC,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BC,IAA5B,gDAA9B;AACA,UAAKQ,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBR,IAAvB,gDAAzB;AACA,UAAKE,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BF,IAA5B,gDAA9B;AACA,UAAKM,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BN,IAA5B,gDAA9B;AAEA,UAAKU,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BV,IAA3B,gDAA7B;AACA,UAAKc,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBd,IAAtB,gDAAxB;AACA,UAAKW,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BX,IAA3B,gDAA7B;AACA,UAAKa,qBAAL,GAA6B,MAAKA,qBAAL,CAA2Bb,IAA3B,gDAA7B;AAEA,UAAKkC,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BlC,IAA3B,gDAA7B;AACA,UAAKsC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBtC,IAAtB,gDAAxB;AACA,UAAKoC,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BpC,IAA3B,gDAA7B;AACA,UAAKqC,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BrC,IAA3B,gDAA7B;AAEA,UAAKgC,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBhC,IAAvB,gDAAzB;AAlBgB,QAoBRuC,UApBQ,GAoBc3D,KApBd,CAoBR2D,UApBQ;AAAA,QAoBIC,KApBJ,GAoBc5D,KApBd,CAoBI4D,KApBJ;AAqBhB,UAAK9C,KAAL,GAAa;AACXH,MAAAA,MAAM,EAAE,CAAC,CAACgD,UADC;AAEX9C,MAAAA,UAAU,EAAE,KAFD;AAGXJ,MAAAA,SAAS,EAAEmD,KAAK,CAACC,YAAN;AAHA,KAAb;AArBgB;AA0BjB;;;;SAEDC,iB,GAAA,6BAAmB;AACjB,SAAKC,WAAL,GAAmB,KAAK/D,KAAL,CAAW4D,KAAX,CAChBI,MADgB,CACT,KAAK/D,QADI,CAAnB;AAED,G;;SACDgE,oB,GAAA,gCAAsB;AACpB,SAAKF,WAAL;AACD,G;;SAiBDG,iB,GAAA,6BAAoB;AAClB3E,IAAAA,SAAS;AACV,G;;SAKD4E,iB,GAAA,6BAAoB;AAClBC,iCAAiBC,eAAjB,CAAiCC,kBAAYC,gBAA7C;AACD,G;;SACDC,gB,GAAA,4BAAmB;AACjBJ,iCAAiBC,eAAjB,CAAiCC,kBAAYG,eAA7C;AACD,G;;SAuEDrB,iB,GAAA,2BAAkBF,IAAlB,EAAwB;AACtB,SAAKlD,KAAL,CAAW0E,WAAX,CAAuBxB,IAAvB,EADsB,CAEtB;AACD,G;;SACDG,kB,GAAA,4BAAmBrC,MAAnB,EAA2B2D,KAA3B,EAAkC;AAChCA,IAAAA,KAAK,CAACC,eAAN;AACAnF,IAAAA,eAAe,CAACuB,MAAD,CAAf;AACD,G;;SAyBD6D,M,GAAA,kBAAQ;AAAA,uBACqB,KAAK7E,KAD1B;AAAA,QACE8E,KADF,gBACEA,KADF;AAAA,QACSrC,OADT,gBACSA,OADT;AAAA,sBAEoC,KAAK3B,KAFzC;AAAA,QAEEH,MAFF,eAEEA,MAFF;AAAA,QAEUE,UAFV,eAEUA,UAFV;AAAA,QAEsBJ,SAFtB,eAEsBA,SAFtB;AAAA,QAGAsE,UAHA,GAGalE,UAAU,GAAG,GAAH,GAAS,GAHhC;AAAA,QAIAmE,QAJA,GAIWnE,UAAU,iCACX7C,CAAC,CAACO,EADS,EACFP,CAAC,CAACU,QADA,IAEhBV,CAAC,CAACO,EANP;AAAA,QAOA6D,EAPA,GAOK0C,KAAK,CAACG,WAAN,CAAkBC,4BAAlB,CAPL;;AAQN,wBACG,sBAAC,gBAAD,CAAG,OAAH;AACG,MAAA,MAAM,EAAEvE,MADX;AAEG,MAAA,KAAK,gCAAM3C,CAAC,CAACC,OAAR,EAAoBmE,EAAE,CAACnE,OAAvB,CAFR;AAAA,8BAIG,sBAAC,gBAAD,CAAG,cAAH;AACE,QAAA,SAAS,EAAEmE,EAAE,CAAC+C,eADhB;AAEE,QAAA,OAAO,EAAE1C,OAFX;AAGE,QAAA,OAAO,EAAE,KAAK/B,YAHhB;AAAA,gCAKC,qBAAC,gBAAD,CAAG,YAAH;AACE,UAAA,OAAO,EAAC,GADV;AAEE,UAAA,KAAK,EAAErB,CAAC,CAACrB,CAFX;AAGE,UAAA,KAAK,EAAEA,CAAC,CAACG,SAHX;AAIE,UAAA,OAAO,EAAE,KAAK+F;AAJhB,UALD,eAWC,qBAAC,gBAAD,CAAG,YAAH;AACG,UAAA,OAAO,EAAEa,UADZ;AAEG,UAAA,KAAK,EAAE1F,CAAC,CAACC,GAFZ;AAGG,UAAA,KAAK,EAAEtB,CAAC,CAACG,SAHZ;AAIG,UAAA,OAAO,EAAE,KAAKyC;AAJjB,UAXD;AAAA,QAJH,eAsBE,qBAAC,mBAAD;AACG,QAAA,MAAM,EAAEC,UADX;AAEG,QAAA,YAAY,EAAE,KAAKsD,iBAFtB;AAGG,QAAA,WAAW,EAAE,KAAKK;AAHrB,QAtBF,eA2BE,qBAAC,gBAAD,CAAG,UAAH;AACE,QAAA,SAAS,EAAEpC,EAAE,CAACgD,cADhB;AAEE,QAAA,KAAK,EAAEJ,QAFT;AAAA,kBAKIvE,SAAS,IACT,KAAK0B,gBAAL,CAAsB1B,SAAtB,EAAiC2B,EAAjC;AANJ,QA3BF;AAAA,MADH;AAuCD,G;;;EArOwBiD,gB,WAYlBC,Y,GAAe;AACpBZ,EAAAA,WAAW,EAAE,uBAAM,CAAE;AADD,C;;eA4NT,2BAAUhF,YAAV,C","sourcesContent":["import { Component } from 'react';\r\n//import PropTypes from 'prop-types'\r\n\r\nimport withTheme from '../hoc/withTheme'\r\nimport styleConfig from '../styles/MenuBrowserStyle'\r\n\r\nimport { ModalDialog } from '../../constants/Type';\r\nimport ComponentActions from '../../flux/actions/ComponentActions';\r\nimport WatchActions from '../../flux/actions/WatchActions';\r\n\r\nimport A from '../Comp';\r\nimport EditBar from './EditBar';\r\nimport WatchItem from './WatchItem';\r\n\r\nimport Decor from './decorators/Decorators';\r\n\r\nconst C_FILL_OPEN = '#80c040';\r\nconst CL_WATCH_ITEM = 'row__type2-topic not-selected';\r\n\r\nconst DRAG = {\r\n  GROUP : 'GROUP',\r\n  LIST : 'LIST',\r\n  ITEM : 'ITEM'\r\n};\r\n\r\nconst COLOR_CAPTION = '#9e9e9e';\r\n\r\nconst S = {\r\n  BROWSER: {\r\n    paddingRight: 0\r\n  },\r\n  BT_CIRCLE: {\r\n    position: 'relative',\r\n    top: -2,\r\n    marginLeft: 20\r\n  },\r\n  SP: {\r\n    height: '92%',\r\n    paddingRight: 10,\r\n    overflowY: 'auto'\r\n  },\r\n  SP_SHORT: {\r\n    height: 'calc(100% - 70px)'\r\n  },\r\n  GROUP_DIV: {\r\n    lineHeight : 2.5\r\n  },\r\n  CAPTION: {\r\n    color: COLOR_CAPTION\r\n  },\r\n  LIST_DIV: {\r\n    marginLeft: 8,\r\n    paddingLeft: 12,\r\n    borderLeft: `3px solid ${COLOR_CAPTION}`,\r\n    lineHeight: 2.5\r\n  },\r\n  ITEM_NOT_SELECTED: {\r\n    marginRight : 10,\r\n    borderBottom : '1px solid rgba(128, 192, 64, 0.6)',\r\n  }\r\n};\r\n\r\nconst T = {\r\n  S: \"Click to save to LocalStorage\",\r\n  E_V: \"Click to toggle edit mode E/V\"\r\n};\r\n\r\nconst { saveWatch, removeWatchItem } = WatchActions;\r\n\r\n@Decor.withDnDStyle\r\n@Decor.withDnDGroup(DRAG, WatchActions)\r\n@Decor.withDnDList(DRAG, WatchActions)\r\n@Decor.withDnDItem(DRAG, WatchActions)\r\nclass WatchBrowser extends Component {\r\n  /*\r\n  static propTypes = {\r\n    caption: PropTypes.string,\r\n    isInitShow: PropTypes.bool,\r\n    store: PropTypes.object,\r\n    browserType: PropTypes.string,\r\n    showAction: PropTypes.string,\r\n    updateAction: PropTypes.string,\r\n    onClickItem: PropTypes.func\r\n  }\r\n  */\r\n  static defaultProps = {\r\n    onClickItem: () => {}\r\n  }\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._handlerDragStartGroup = this._handlerDragStartGroup.bind(this)\r\n    this._handlerDropGroup = this._handlerDropGroup.bind(this)\r\n    this._handlerDragEnterGroup = this._handlerDragEnterGroup.bind(this)\r\n    this._handlerDragLeaveGroup = this._handlerDragLeaveGroup.bind(this)\r\n\r\n    this._handlerDragStartList = this._handlerDragStartList.bind(this)\r\n    this._handlerDropList = this._handlerDropList.bind(this)\r\n    this._handlerDragEnterList = this._handlerDragEnterList.bind(this)\r\n    this._handlerDragLeaveList = this._handlerDragLeaveList.bind(this)\r\n\r\n    this._handlerDragStartItem = this._handlerDragStartItem.bind(this)\r\n    this._handlerDropItem = this._handlerDropItem.bind(this)\r\n    this._handlerDragEnterItem = this._handlerDragEnterItem.bind(this)\r\n    this._handlerDragLeaveItem = this._handlerDragLeaveItem.bind(this)\r\n\r\n    this._handlerClickItem = this._handlerClickItem.bind(this)\r\n\r\n    const { isInitShow, store } = props;\r\n    this.state = {\r\n      isShow: !!isInitShow,\r\n      isModeEdit: false,\r\n      watchList: store.getWatchList()\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store\r\n      .listen(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n  _onStore = (actionType, data) => {\r\n     const { browserType, showAction, updateAction } = this.props;\r\n     if (actionType === showAction && data === browserType ){\r\n      this._handlerShow()\r\n    } else if (actionType === updateAction) {\r\n      this.setState({ watchList: data })\r\n    }\r\n  }\r\n\r\n  _handlerHide = () => {\r\n     this.setState({ isShow : false })\r\n  }\r\n  _handlerShow = () => {\r\n     this.setState({ isShow : true })\r\n  }\r\n\r\n  _handlerSaveWatch() {\r\n    saveWatch()\r\n  }\r\n  _handlerToggleEditMode = () => {\r\n    this.setState({ isModeEdit : !this.state.isModeEdit })\r\n  }\r\n\r\n  _handlerEditGroup() {\r\n    ComponentActions.showModalDialog(ModalDialog.EDIT_WATCH_GROUP)\r\n  }\r\n  _handlerEditList() {\r\n    ComponentActions.showModalDialog(ModalDialog.EDIT_WATCH_LIST)\r\n  }\r\n\r\n  _crGroupDraggableOption = (isModeEdit, option) => {\r\n    return isModeEdit\r\n      ? {\r\n        draggable: true,\r\n        onDragStart: this._handlerDragStartGroup.bind(null, option),\r\n        onDragEnter: this._handlerDragEnterGroup,\r\n        onDragOver: this._handlerDragOverGroup,\r\n        onDragLeave: this._handlerDragLeaveGroup,\r\n        onDrop: this._handlerDropGroup.bind(null, option)\r\n      }\r\n    : void 0;\r\n  }\r\n  _crListDraggableOption = (isModeEdit, option) => {\r\n    return isModeEdit\r\n      ? {\r\n        draggable: true,\r\n        onDragStart: this._handlerDragStartList.bind(null, option),\r\n        onDragEnter: this._handlerDragEnterList,\r\n        onDragOver: this._handlerDragOverList,\r\n        onDragLeave: this._handlerDragLeaveList,\r\n        onDrop: this._handlerDropList.bind(null, option)\r\n      }\r\n    : void 0;\r\n  }\r\n\r\n  _renderWatchList = (watchList, TS) => {\r\n     const { isModeEdit } = this.state;\r\n     return watchList.groups.map((group, index) => {\r\n       const {caption, lists} = group;\r\n       return (\r\n         <A.OpenClose2\r\n            key={index}\r\n            style={{ ...S.GROUP_DIV, ...TS.OPEN_CLOSE }}\r\n            styleCaption={S.CAPTION}\r\n            caption={caption}\r\n            draggableOption={this._crGroupDraggableOption(isModeEdit, { caption })}\r\n          >\r\n          {\r\n            lists &&\r\n            this._renderLists(lists, caption, TS)\r\n          }\r\n        </A.OpenClose2>\r\n       );\r\n     });\r\n  }\r\n\r\n  _renderLists = (lists, groupCaption, TS) => {\r\n    const { isModeEdit } = this.state;\r\n    return lists.map((list, index) => {\r\n      const {caption, items} = list;\r\n      return (\r\n        <A.OpenClose2\r\n           key={index}\r\n           fillOpen={C_FILL_OPEN}\r\n           style={{ ...S.LIST_DIV, ...TS.OPEN_CLOSE }}\r\n           styleCaption={S.CAPTION}\r\n           styleNotSelected={S.ITEM_NOT_SELECTED}\r\n           caption={caption}\r\n           draggableOption={this._crListDraggableOption(isModeEdit, { groupCaption, caption })}\r\n        >\r\n         {\r\n           items &&\r\n           this._renderItems(items, groupCaption, caption)\r\n         }\r\n       </A.OpenClose2>\r\n      );\r\n    });\r\n  }\r\n\r\n  _handlerClickItem(item) {\r\n    this.props.onClickItem(item)\r\n    //ComponentActions.showModalDialog(ModalDialog.LOAD_ITEM, item)\r\n  }\r\n  _handlerRemoveItem(option, event) {\r\n    event.stopPropagation()\r\n    removeWatchItem(option)\r\n  }\r\n\r\n  _renderItems = (items, groupCaption, listCaption) => {\r\n      const {isModeEdit} = this.state;\r\n      return items.map((item, index) => {\r\n        const { id, caption } = item;\r\n        return (\r\n            <WatchItem\r\n               key={id}\r\n               className={CL_WATCH_ITEM}\r\n               isModeEdit={isModeEdit}\r\n               item={item}\r\n               option={{ groupCaption, listCaption, caption }}\r\n               onClick={this._handlerClickItem}\r\n               onClose={this._handlerRemoveItem}\r\n               onDragStart={this._handlerDragStartItem}\r\n               onDragOver={this._handlerDragOverItem}\r\n               onDragEnter={this._handlerDragEnterItem}\r\n               onDragLeave={this._handlerDragLeaveItem}\r\n               onDrop={this._handlerDropItem}\r\n            />\r\n        );\r\n      });\r\n    }\r\n\r\n  render(){\r\n    const { theme, caption } = this.props\r\n        , { isShow, isModeEdit, watchList } = this.state\r\n        , _captionEV = isModeEdit ? 'V' : 'E'\r\n        , _spStyle = isModeEdit\r\n             ? { ...S.SP, ...S.SP_SHORT }\r\n             : S.SP\r\n        , TS = theme.createStyle(styleConfig);\r\n    return (\r\n       <A.Browser\r\n          isShow={isShow}\r\n          style={{...S.BROWSER, ...TS.BROWSER}}\r\n       >\r\n          <A.BrowserCaption\r\n            rootStyle={TS.BROWSER_CAPTION}\r\n            caption={caption}\r\n            onClose={this._handlerHide}\r\n          >\r\n           <A.CircleButton\r\n             caption=\"S\"\r\n             title={T.S}\r\n             style={S.BT_CIRCLE}\r\n             onClick={this._handlerSaveWatch}\r\n           />\r\n           <A.CircleButton\r\n              caption={_captionEV}\r\n              title={T.E_V}\r\n              style={S.BT_CIRCLE}\r\n              onClick={this._handlerToggleEditMode}\r\n           />\r\n         </A.BrowserCaption>\r\n         <EditBar\r\n            isShow={isModeEdit}\r\n            onClickGroup={this._handlerEditGroup}\r\n            onClickList={this._handlerEditList}\r\n         />\r\n         <A.ScrollPane\r\n           className={TS.CL_SCROLL_PANE}\r\n           style={_spStyle}\r\n         >\r\n           {\r\n             watchList &&\r\n             this._renderWatchList(watchList, TS)\r\n           }\r\n         </A.ScrollPane>\r\n      </A.Browser>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withTheme(WatchBrowser)\r\n"],"file":"WatchBrowser.js"}