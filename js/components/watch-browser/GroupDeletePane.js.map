{"version":3,"sources":["../../../src/components/watch-browser/GroupDeletePane.jsx"],"names":["GroupDeletePane","props","_onStore","actionType","data","actionCompleted","forActionType","store","_handleClear","setState","groupOptions","getWatchGroups","_handleSelectGroup","item","caption","state","validationMessages","length","_handleDeleteGroup","onDelete","msgOnNotSelect","_crPrimaryBt","btStyle","componentDidMount","unsubscribe","listen","componentWillUnmount","render","inputStyle","onClose","Component"],"mappings":";;;;;;;;;;;AAAA;;AAGA;;AAFA;IAIMA,e;;;AACJ;;;;;;;;;;;;;;;AAkBA,2BAAYC,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UAgBlBC,QAhBkB,GAgBP,UAACC,UAAD,EAAaC,IAAb,EAAsB;AAAA,wBACmB,MAAKH,KADxB;AAAA,UACvBI,eADuB,eACvBA,eADuB;AAAA,UACNC,aADM,eACNA,aADM;AAAA,UACSC,KADT,eACSA,KADT;;AAE/B,UAAIJ,UAAU,KAAKE,eAAnB,EAAoC;AAClC,YAAID,IAAI,CAACE,aAAL,KAAuBA,aAA3B,EAAyC;AACvC,gBAAKE,YAAL;AACD;;AACD,cAAKC,QAAL,CAAc;AAAEC,UAAAA,YAAY,EAAGH,KAAK,CAACI,cAAN;AAAjB,SAAd;AACD;AACF,KAxBiB;;AAAA,UA0BlBC,kBA1BkB,GA0BG,UAACC,IAAD,EAAU;AAC5B,UAAIA,IAAI,IAAIA,IAAI,CAACC,OAAjB,EAAyB;AACvB,cAAKA,OAAL,GAAeD,IAAI,CAACC,OAApB;AACD,OAFD,MAEO;AACL,cAAKA,OAAL,GAAe,IAAf;AACD;AACH,KAhCiB;;AAAA,UAkClBN,YAlCkB,GAkCH,YAAM;AACnB,UAAI,MAAKO,KAAL,CAAWC,kBAAX,CAA8BC,MAA9B,GAAqC,CAAzC,EAA2C;AACzC,cAAKR,QAAL,CAAc;AAAEO,UAAAA,kBAAkB,EAAC;AAArB,SAAd;AACD;AACF,KAtCiB;;AAAA,UAwClBE,kBAxCkB,GAwCG,YAAM;AAAA,yBACa,MAAKjB,KADlB;AAAA,UAChBkB,QADgB,gBAChBA,QADgB;AAAA,UACNC,cADM,gBACNA,cADM;;AAExB,UAAI,MAAKN,OAAT,EAAiB;AACfK,QAAAA,QAAQ,CAAC;AAAEL,UAAAA,OAAO,EAAC,MAAKA;AAAf,SAAD,CAAR;AACD,OAFD,MAEO;AACL,cAAKL,QAAL,CAAc;AAAEO,UAAAA,kBAAkB,EAAC,CAACI,cAAc,CAAC,OAAD,CAAf;AAArB,SAAd;AACD;AACH,KA/CiB;;AAAA,UAiDlBC,YAjDkB,GAiDH,UAACC,OAAD,EAAa;AAC1B,0BACE,gCAAC,iBAAD,CAAG,MAAH,CAAU,OAAV;AACG,QAAA,KAAK,EAAEA,OADV;AAEG,QAAA,OAAO,EAAC,QAFX;AAGG,QAAA,KAAK,EAAC,cAHT;AAIG,QAAA,OAAO,EAAE,MAAKJ;AAJjB,QADF;AAQD,KA1DiB;;AAEhB,UAAKJ,OAAL,GAAe,IAAf;AACA,UAAKC,KAAL,GAAa;AACXL,MAAAA,YAAY,EAAET,KAAK,CAACM,KAAN,CAAYI,cAAZ,EADH;AAEXK,MAAAA,kBAAkB,EAAE;AAFT,KAAb;AAHgB;AAOjB;;;;SAEDO,iB,GAAA,6BAAmB;AACjB,SAAKC,WAAL,GAAmB,KAAKvB,KAAL,CAAWM,KAAX,CAChBkB,MADgB,CACT,KAAKvB,QADI,CAAnB;AAED,G;;SACDwB,oB,GAAA,gCAAsB;AACpB,SAAKF,WAAL;AACD,G;;SA6CDG,M,GAAA,kBAAQ;AAAA,uBAIM,KAAK1B,KAJX;AAAA,QAEI2B,UAFJ,gBAEIA,UAFJ;AAAA,QAEgBN,OAFhB,gBAEgBA,OAFhB;AAAA,QAGIO,OAHJ,gBAGIA,OAHJ;AAAA,sBAOM,KAAKd,KAPX;AAAA,QAMIL,YANJ,eAMIA,YANJ;AAAA,QAMkBM,kBANlB,eAMkBA,kBANlB;AASJ,wBACG,0DACE,gCAAC,iBAAD,CAAG,cAAH;AACE,MAAA,UAAU,EAAEY,UADd;AAEE,MAAA,OAAO,EAAC,QAFV;AAGE,MAAA,OAAO,EAAElB,YAHX;AAIE,MAAA,QAAQ,EAAE,KAAKE;AAJjB,MADF,eAOE,gCAAC,iBAAD,CAAG,kBAAH;AACE,MAAA,kBAAkB,EAAEI;AADtB,MAPF,eAUE,gCAAC,iBAAD,CAAG,UAAH;AACE,MAAA,OAAO,EAAEM,OADX;AAEE,MAAA,OAAO,EAAE,KAAKD,YAAL,CAAkBC,OAAlB,CAFX;AAGE,MAAA,YAAY,EAAE,IAHhB;AAIE,MAAA,OAAO,EAAEO;AAJX,MAVF,CADH;AAmBH,G;;;EA3G2BC,gB;;eA8Gf9B,e","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport A from './Atoms'\r\n\r\nclass GroupDeletePane extends Component {\r\n  /*\r\n  static propTypes = {\r\n    store: PropTypes.shape({\r\n      listen: PropTypes.func,\r\n      getWatchGroups: PropTypes.func\r\n    }),\r\n    actionCompleted: PropTypes.string,\r\n    forActionType: PropTypes.string,\r\n    msgOnNotSelect: PropTypes.func,\r\n\r\n    inputStyle: PropTypes.object,\r\n    btStyle: PropTypes.object,\r\n\r\n    onDelete: PropTypes.func,\r\n    onClose: PropTypes.func\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.caption = null\r\n    this.state = {\r\n      groupOptions: props.store.getWatchGroups(),\r\n      validationMessages: []\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store\r\n      .listen(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n  _onStore = (actionType, data) => {\r\n    const { actionCompleted, forActionType, store } = this.props;\r\n    if (actionType === actionCompleted) {\r\n      if (data.forActionType === forActionType){\r\n        this._handleClear()\r\n      }\r\n      this.setState({ groupOptions : store.getWatchGroups() })\r\n    }\r\n  }\r\n\r\n  _handleSelectGroup = (item) => {\r\n     if (item && item.caption){\r\n       this.caption = item.caption\r\n     } else {\r\n       this.caption = null\r\n     }\r\n  }\r\n\r\n  _handleClear = () => {\r\n    if (this.state.validationMessages.length>0){\r\n      this.setState({ validationMessages:[] })\r\n    }\r\n  }\r\n\r\n  _handleDeleteGroup = () => {\r\n     const { onDelete, msgOnNotSelect } = this.props;\r\n     if (this.caption){\r\n       onDelete({ caption:this.caption })\r\n     } else {\r\n       this.setState({ validationMessages:[msgOnNotSelect('Group')] })\r\n     }\r\n  }\r\n\r\n  _crPrimaryBt = (btStyle) => {\r\n    return (\r\n      <A.Button.Primary\r\n         style={btStyle}\r\n         caption=\"Delete\"\r\n         title=\"Delete Group\"\r\n         onClick={this._handleDeleteGroup}\r\n      />\r\n    );\r\n  }\r\n\r\n  render(){\r\n      const {\r\n              inputStyle, btStyle,\r\n              onClose\r\n            } = this.props\r\n          , {\r\n              groupOptions, validationMessages\r\n            } = this.state;\r\n\r\n      return (\r\n         <div>\r\n           <A.RowInputSelect\r\n             inputStyle={inputStyle}\r\n             caption=\"Group:\"\r\n             options={groupOptions}\r\n             onSelect={this._handleSelectGroup}\r\n           />\r\n           <A.ValidationMessages\r\n             validationMessages={validationMessages}\r\n           />\r\n           <A.RowButtons\r\n             btStyle={btStyle}\r\n             Primary={this._crPrimaryBt(btStyle)}\r\n             withoutClear={true}\r\n             onClose={onClose}\r\n           />\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GroupDeletePane\r\n"],"file":"GroupDeletePane.js"}