{"version":3,"sources":["../../../src/components/watch-browser/FragmentSelectGroupList.jsx"],"names":["FragmentSelectGroupList","props","_handleSelectGroup","item","caption","groupCaption","lists","setState","listOptions","_handleSelectList","listCaption","state","UNSAFE_componentWillReceiveProps","nextProps","groupOptions","store","getWatchListsByGroup","render","inputStyle","getValue","captionGroup","captionList","setValueNull","Component"],"mappings":";;;;;;;;;;;AAAA;;AAGA;;AAFA;IAIMA,uB;;;AACJ;;;;;;;;;;;AAYA,mCAAYC,KAAZ,EAAkB;AAAA;;AAChB,kCAAMA,KAAN;;AADgB,UA2BlBC,kBA3BkB,GA2BG,UAACC,IAAD,EAAU;AAC7B,UAAIA,IAAI,IAAIA,IAAI,CAACC,OAAjB,EAAyB;AACvB,cAAKC,YAAL,GAAoBF,IAAI,CAACC,OAAzB;;AACA,YAAID,IAAI,CAACG,KAAT,EAAe;AACb,gBAAKC,QAAL,CAAc;AAAEC,YAAAA,WAAW,EAAGL,IAAI,CAACG;AAArB,WAAd;AACD,SAFD,MAEQ;AACN,gBAAKC,QAAL,CAAc;AAAEC,YAAAA,WAAW,EAAG;AAAhB,WAAd;AACD;AACF,OAPD,MAOO;AACL,cAAKH,YAAL,GAAoB,IAApB;AACD;AACF,KAtCiB;;AAAA,UAwClBI,iBAxCkB,GAwCE,UAACN,IAAD,EAAU;AAC3B,YAAKO,WAAL,GAAmBP,IAAI,IAAIA,IAAI,CAACC,OAAb,GACfD,IAAI,CAACC,OADU,GACA,IADnB;AAEF,KA3CiB;;AAEhB,UAAKC,YAAL,GAAoB,IAApB;AACA,UAAKK,WAAL,GAAmB,IAAnB;AAEA,UAAKC,KAAL,GAAa;AACXH,MAAAA,WAAW,EAAG;AADH,KAAb;AALgB;AAQjB;;;;SAEDI,gC,GAAA,0CAAiCC,SAAjC,EAA2C;AACzC,QAAIA,SAAS,KAAK,KAAKZ,KAAvB,EAA6B;AAC3B,UAAIY,SAAS,CAACC,YAAV,KAA2B,KAAKb,KAAL,CAAWa,YAA1C,EAAuD;AACnD,aAAKT,YAAL,GAAoB,IAApB;AACA,aAAKK,WAAL,GAAmB,IAAnB;AACA,aAAKH,QAAL,CAAc;AAAEC,UAAAA,WAAW,EAAE;AAAf,SAAd;AACH,OAJD,MAIO;AACL,YAAI,KAAKH,YAAT,EAAsB;AACpB,cAAMG,WAAW,GAAG,KAAKP,KAAL,CAAWc,KAAX,CAAiBC,oBAAjB,CAAsC,KAAKX,YAA3C,CAApB;AACA,cAAIG,WAAW,KAAK,KAAKG,KAAL,CAAWH,WAA/B,EACE,KAAKE,WAAL,GAAmB,IAAnB;AACA,eAAKH,QAAL,CAAc;AAAEC,YAAAA,WAAW,EAAXA;AAAF,WAAd;AACH;AACF;AACF;AACF,G;;SAoBDS,M,GAAA,kBAAQ;AAAA,sBAGI,KAAKhB,KAHT;AAAA,QACEiB,UADF,eACEA,UADF;AAAA,QAEEb,YAFF,eAEEA,YAFF;AAAA,QAEgBS,YAFhB,eAEgBA,YAFhB;AAAA,QAE8BJ,WAF9B,eAE8BA,WAF9B;AAAA,QAIEF,WAJF,GAIkB,KAAKG,KAJvB,CAIEH,WAJF;AAKN,wBACE,0DACG,gCAAC,0BAAD;AACE,MAAA,UAAU,EAAEU,UADd;AAEE,MAAA,OAAO,EAAEb,YAFX;AAGE,MAAA,OAAO,EAAES,YAHX;AAIE,MAAA,QAAQ,EAAE,KAAKZ;AAJjB,MADH,eAOG,gCAAC,0BAAD;AACE,MAAA,UAAU,EAAEgB,UADd;AAEE,MAAA,OAAO,EAAER,WAFX;AAGE,MAAA,OAAO,EAAEF,WAHX;AAIE,MAAA,QAAQ,EAAE,KAAKC;AAJjB,MAPH,CADF;AAgBD,G;;SAEDU,Q,GAAA,oBAAU;AACR,WAAO;AACLC,MAAAA,YAAY,EAAE,KAAKf,YADd;AAELgB,MAAAA,WAAW,EAAE,KAAKX;AAFb,KAAP;AAID,G;;SAEDY,Y,GAAA,wBAAc;AACZ,SAAKjB,YAAL,GAAoB,IAApB;AACA,SAAKK,WAAL,GAAmB,IAAnB;AACD,G;;;EA3FmCa,gB;;eA8FvBvB,uB","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport RowInputSelect from './RowInputSelect';\r\n\r\nclass FragmentSelectGroupList extends Component {\r\n  /*\r\n  static propTypes = {\r\n    store: PropTypes.shape({\r\n      listen: PropTypes.func,\r\n      getWatchListsByGroup: PropTypes.func\r\n    }),\r\n    groupCaption: PropTypes.string,\r\n    groupOptions: PropTypes.array,\r\n    listCaption: PropTypes.string\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.groupCaption = null\r\n    this.listCaption = null\r\n\r\n    this.state = {\r\n      listOptions : []\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps){\r\n    if (nextProps !== this.props){\r\n      if (nextProps.groupOptions !== this.props.groupOptions){\r\n          this.groupCaption = null;\r\n          this.listCaption = null;\r\n          this.setState({ listOptions: [] });\r\n      } else {\r\n        if (this.groupCaption){\r\n          const listOptions = this.props.store.getWatchListsByGroup(this.groupCaption);\r\n          if (listOptions !== this.state.listOptions)\r\n            this.listCaption = null;\r\n            this.setState({ listOptions });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  _handleSelectGroup = (item) => {\r\n    if (item && item.caption){\r\n      this.groupCaption = item.caption;\r\n      if (item.lists){\r\n        this.setState({ listOptions : item.lists })\r\n      }  else {\r\n        this.setState({ listOptions : [] })\r\n      }\r\n    } else {\r\n      this.groupCaption = null\r\n    }\r\n  }\r\n\r\n  _handleSelectList = (item) => {\r\n     this.listCaption = item && item.caption\r\n       ? item.caption : null\r\n  }\r\n\r\n  render(){\r\n    const { inputStyle,\r\n            groupCaption, groupOptions, listCaption\r\n          } = this.props\r\n        , { listOptions } = this.state;\r\n    return (\r\n      <div>\r\n         <RowInputSelect\r\n           inputStyle={inputStyle}\r\n           caption={groupCaption}\r\n           options={groupOptions}\r\n           onSelect={this._handleSelectGroup}\r\n         />\r\n         <RowInputSelect\r\n           inputStyle={inputStyle}\r\n           caption={listCaption}\r\n           options={listOptions}\r\n           onSelect={this._handleSelectList}\r\n         />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getValue(){\r\n    return {\r\n      captionGroup: this.groupCaption,\r\n      captionList: this.listCaption\r\n    };\r\n  }\r\n\r\n  setValueNull(){\r\n    this.groupCaption = null\r\n    this.listCaption = null\r\n  }\r\n}\r\n\r\nexport default FragmentSelectGroupList\r\n"],"file":"FragmentSelectGroupList.js"}