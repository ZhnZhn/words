{"version":3,"sources":["../../../src/components/watch-browser/ListDeletePane.jsx"],"names":["ListDeletePane","props","_onStore","actionType","data","actionCompleted","forActionType","store","_handleClear","setState","groupOptions","getWatchGroups","state","validationMessages","length","_handleDelete","onDelete","msgOnNotSelect","selectGroupList","getValue","captionGroup","captionList","msg","push","_crPrimaryBt","btStyle","_ref","c","componentDidMount","unsubscribe","listen","componentWillUnmount","render","inputStyle","onClose","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport A from './Atoms'\r\n\r\nclass ListDeletePane extends Component {\r\n  /*\r\n  static propTypes = {\r\n    store: PropTypes.shape({\r\n      listen: PropTypes.func,\r\n      getWatchGroups: PropTypes.func\r\n    }),\r\n    actionCompleted: PropTypes.string,\r\n    forActionType: PropTypes.string,\r\n\r\n    inputStyle: PropTypes.object,\r\n    btStyle: PropTypes.object,\r\n\r\n    onRename: PropTypes.func,\r\n    onClose: PropTypes.func\r\n  }\r\n  */\r\n\r\n  constructor(props){\r\n    super()\r\n    this.state = {\r\n      groupOptions: props.store.getWatchGroups(),\r\n      validationMessages: []\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store\r\n      .listen(this._onStore)\r\n  }\r\n  componentWillUnmount(){\r\n    this.unsubscribe()\r\n  }\r\n  _onStore = (actionType, data) => {\r\n    const { actionCompleted, forActionType, store } = this.props;\r\n    if (actionType === actionCompleted){\r\n        if (data.forActionType === forActionType) {\r\n          this._handleClear()\r\n        }\r\n        this.setState({ groupOptions : store.getWatchGroups() })\r\n    }\r\n  }\r\n\r\n  _handleClear = () => {\r\n    if (this.state.validationMessages.length>0){\r\n      this.setState({ validationMessages: [] })\r\n    }\r\n  }\r\n\r\n  _handleDelete = () => {\r\n      const { onDelete, msgOnNotSelect } = this.props\r\n          , { captionGroup, captionList } = this.selectGroupList.getValue();\r\n      if (captionGroup && captionList){\r\n        onDelete({ captionGroup, captionList })\r\n      } else {\r\n        const msg = [];\r\n        if (!captionGroup) { msg.push(msgOnNotSelect('Group')) }\r\n        if (!captionList)  { msg.push(msgOnNotSelect('List'))  }\r\n        this.setState({ validationMessages: msg })\r\n      }\r\n  }\r\n\r\n  _crPrimaryBt = (btStyle) => {\r\n    return (\r\n      <A.Button.Primary\r\n         style={btStyle}\r\n         caption=\"Delete\"\r\n         title=\"Delete List\"\r\n         onClick={this._handleDelete}\r\n      />\r\n    );\r\n  }\r\n\r\n  _ref = c => this.selectGroupList = c\r\n\r\n  render(){\r\n    const {\r\n            store,\r\n            inputStyle, btStyle,\r\n            onClose\r\n          } = this.props\r\n        , { groupOptions, validationMessages } = this.state;\r\n    return (\r\n      <div>\r\n         <A.FragmentSelectGroupList\r\n           ref={this._ref}\r\n           store={store}\r\n           inputStyle={inputStyle}           \r\n           groupCaption=\"In Group:\"\r\n           groupOptions={groupOptions}\r\n           listCaption=\"List:\"\r\n         />\r\n         <A.ValidationMessages\r\n            validationMessages={validationMessages}\r\n         />\r\n         <A.RowButtons\r\n           btStyle={btStyle}\r\n           Primary={this._crPrimaryBt(btStyle)}\r\n           onClear={this._handleClear}\r\n           onClose={onClose}\r\n         />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ListDeletePane\r\n"],"file":"ListDeletePane.js"}