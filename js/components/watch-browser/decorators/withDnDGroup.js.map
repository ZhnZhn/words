{"version":3,"sources":["../../../../src/components/watch-browser/decorators/withDnDGroup.js"],"names":["_crDragStartGroup","DRAG","ev","caption","dragStartWithDnDStyle","GROUP","fnDnD","setTransferTo","event","dragId","xType","_crDropGroup","WatchActions","dropWithDnDStyle","data","JSON","parse","dataTransfer","getData","dropId","preventDefault","dragDropGroup","undefined","LIST","dragDropList","_crDragEnterGroup","dragEnterWithDnDStyle","_handlerDragOverGroup","_handlerDragLeaveGroup","dragLeaveWithDnDStyle","withDnDGroup","target","Object","assign","prototype","_handlerDragStartGroup","_handlerDropGroup","_handlerDragEnterGroup"],"mappings":";;;;;;;AACA;;AAEA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAU;AAClC,SAAO,gBAAsBC,EAAtB,EAAyB;AAAA,QAAdC,OAAc,QAAdA,OAAc;AAC7B,SAAKC,qBAAL,CAA2BF,EAA3B,EAA+B,CAACD,IAAI,CAACI,KAAN,CAA/B;;AACAC,sBAAMC,aAAN,CAAoB;AAClBC,MAAAA,KAAK,EAAEN,EADW;AAElBO,MAAAA,MAAM,EAAKN,OAAL,MAFY;AAGlBO,MAAAA,KAAK,EAAET,IAAI,CAACI;AAHM,KAApB;AAKF,GAPD;AAQD,CATD;;AAWA,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACV,IAAD,EAAOW,YAAP,EAAwB;AAC3C,SAAO,iBAAsBV,EAAtB,EAA0B;AAAA,QAAfC,OAAe,SAAfA,OAAe;AAC/B,SAAKU,gBAAL,CAAsBX,EAAtB;AACM,QAAAY,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWd,EAAE,CAACe,YAAH,CAAgBC,OAAhB,CAAwB,MAAxB,CAAX,CAAP;AAAA,QACER,KADF,GACoBI,IADpB,CACEJ,KADF;AAAA,QACSD,MADT,GACoBK,IADpB,CACSL,MADT;AAAA,QAEAU,MAFA,GAEahB,OAFb;;AAIN,QAAIO,KAAK,KAAKT,IAAI,CAACI,KAAnB,EAA0B;AACxB,UAAII,MAAM,KAAKU,MAAf,EAAuB;AACrBjB,QAAAA,EAAE,CAACkB,cAAH;AACAR,QAAAA,YAAY,CAACS,aAAb,CAA2B;AACzBZ,UAAAA,MAAM,EAAGA,MADgB;AAEzBU,UAAAA,MAAM,EAAGA;AAFgB,SAA3B;AAID,OAND,MAMO;AACL,eAAOG,SAAP;AACD;AACF,KAVD,MAUO,IAAIZ,KAAK,KAAKT,IAAI,CAACsB,IAAnB,EAAyB;AAC9BrB,MAAAA,EAAE,CAACkB,cAAH;AACAR,MAAAA,YAAY,CAACY,YAAb,CAA0B;AACxBf,QAAAA,MAAM,EAAGA,MADe;AAExBU,QAAAA,MAAM,EAAGA;AAFe,OAA1B;AAID;AACF,GAvBD;AAwBD,CAzBD;;AA2BA,IAAMM,iBAAiB,GAAG,SAApBA,iBAAoB,CAACxB,IAAD,EAAU;AAClC,SAAO,UAASC,EAAT,EAAY;AACjBA,IAAAA,EAAE,CAACkB,cAAH;AACA,SAAKM,qBAAL,CAA2BxB,EAA3B,EAA+BD,IAAI,CAACI,KAApC;AACD,GAHD;AAID,CALD;;AAOA,IAAMsB,qBAAqB,GAAG,SAAxBA,qBAAwB,CAASzB,EAAT,EAAY;AACvCA,EAAAA,EAAE,CAACkB,cAAH;AACF,CAFD;;AAIA,IAAMQ,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAS1B,EAAT,EAAY;AACxCA,EAAAA,EAAE,CAACkB,cAAH;AACA,OAAKS,qBAAL,CAA2B3B,EAA3B;AACF,CAHD;;AAKA,IAAM4B,YAAY,GAAG,SAAfA,YAAe,CAAC7B,IAAD,EAAOW,YAAP,EAAwB;AAC3C,SAAO,UAACmB,MAAD,EAAY;AACjBC,IAAAA,MAAM,CAACC,MAAP,CAAcF,MAAM,CAACG,SAArB,EAAgC;AAC9BC,MAAAA,sBAAsB,EAAEnC,iBAAiB,CAACC,IAAD,CADX;AAE9BmC,MAAAA,iBAAiB,EAAEzB,YAAY,CAACV,IAAD,EAAOW,YAAP,CAFD;AAG9ByB,MAAAA,sBAAsB,EAAEZ,iBAAiB,CAACxB,IAAD,CAHX;AAI9B0B,MAAAA,qBAAqB,EAAEA,qBAJO;AAK9BC,MAAAA,sBAAsB,EAAEA;AALM,KAAhC;AAOD,GARD;AASD,CAVD;;eAYeE,Y","sourcesContent":["\r\nimport fnDnD from './fnDnD';\r\n\r\nconst _crDragStartGroup = (DRAG) => {\r\n  return function({ caption }, ev){\r\n     this.dragStartWithDnDStyle(ev, [DRAG.GROUP])\r\n     fnDnD.setTransferTo({\r\n       event: ev,\r\n       dragId: `${caption};`,\r\n       xType: DRAG.GROUP\r\n     })\r\n  };\r\n};\r\n\r\nconst _crDropGroup = (DRAG, WatchActions) => {\r\n  return function({ caption }, ev) {\r\n    this.dropWithDnDStyle(ev)\r\n    const data = JSON.parse(ev.dataTransfer.getData(\"text\"))\r\n       ,  { xType, dragId } = data\r\n       ,  dropId =  `${caption};`;\r\n\r\n    if (xType === DRAG.GROUP) {\r\n      if (dragId !== dropId) {\r\n        ev.preventDefault()\r\n        WatchActions.dragDropGroup({\r\n          dragId : dragId,\r\n          dropId : dropId\r\n        })\r\n      } else {\r\n        return undefined;\r\n      }\r\n    } else if (xType === DRAG.LIST) {\r\n      ev.preventDefault()\r\n      WatchActions.dragDropList({\r\n        dragId : dragId,\r\n        dropId : dropId\r\n      })\r\n    }\r\n  };\r\n};\r\n\r\nconst _crDragEnterGroup = (DRAG) => {\r\n  return function(ev){\r\n    ev.preventDefault()\r\n    this.dragEnterWithDnDStyle(ev, DRAG.GROUP)\r\n  };\r\n};\r\n\r\nconst _handlerDragOverGroup = function(ev){\r\n   ev.preventDefault()\r\n};\r\n\r\nconst _handlerDragLeaveGroup = function(ev){\r\n   ev.preventDefault()\r\n   this.dragLeaveWithDnDStyle(ev)\r\n};\r\n\r\nconst withDnDGroup = (DRAG, WatchActions) => {\r\n  return (target) => {\r\n    Object.assign(target.prototype, {\r\n      _handlerDragStartGroup: _crDragStartGroup(DRAG),\r\n      _handlerDropGroup: _crDropGroup(DRAG, WatchActions),\r\n      _handlerDragEnterGroup: _crDragEnterGroup(DRAG),\r\n      _handlerDragOverGroup: _handlerDragOverGroup,\r\n      _handlerDragLeaveGroup: _handlerDragLeaveGroup\r\n    })\r\n  };\r\n}\r\n\r\nexport default withDnDGroup\r\n"],"file":"withDnDGroup.js"}