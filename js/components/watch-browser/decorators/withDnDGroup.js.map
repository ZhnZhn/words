{"version":3,"sources":["../../../../src/components/watch-browser/decorators/withDnDGroup.js"],"names":["_crDragStartGroup","DRAG","ev","caption","dragStartWithDnDStyle","GROUP","setTransferTo","event","dragId","xType","_crDropGroup","WatchActions","dropWithDnDStyle","JSON","parse","dataTransfer","getData","data","dropId","preventDefault","dragDropGroup","undefined","LIST","dragDropList","_crDragEnterGroup","dragEnterWithDnDStyle","_handlerDragOverGroup","_handlerDragLeaveGroup","dragLeaveWithDnDStyle","withDnDGroup","target","Object","assign","prototype","_handlerDragStartGroup","_handlerDropGroup","_handlerDragEnterGroup"],"mappings":";;;;;;AACA;;;;;;AAEA,IAAMA,oBAAoB,SAApBA,iBAAoB,CAACC,IAAD,EAAU;AAClC,SAAO,gBAAsBC,EAAtB,EAAyB;AAAA,QAAdC,OAAc,QAAdA,OAAc;;AAC7B,SAAKC,qBAAL,CAA2BF,EAA3B,EAA+B,CAACD,KAAKI,KAAN,CAA/B;AACA,oBAAMC,aAAN,CAAoB;AAClBC,aAAOL,EADW;AAElBM,cAAWL,OAAX,MAFkB;AAGlBM,aAAOR,KAAKI;AAHM,KAApB;AAKF,GAPD;AAQD,CATD;;AAWA,IAAMK,eAAe,SAAfA,YAAe,CAACT,IAAD,EAAOU,YAAP,EAAwB;AAC3C,SAAO,iBAAsBT,EAAtB,EAA0B;AAAA,QAAfC,OAAe,SAAfA,OAAe;;AAC/B,SAAKS,gBAAL,CAAsBV,EAAtB;AACM,eAAOW,KAAKC,KAAL,CAAWZ,GAAGa,YAAH,CAAgBC,OAAhB,CAAwB,MAAxB,CAAX,CAAP;AAAA,QACEP,KADF,GACoBQ,IADpB,CACER,KADF;AAAA,QACSD,MADT,GACoBS,IADpB,CACST,MADT;AAAA,QAEAU,MAFA,GAEaf,OAFb;;;AAIN,QAAIM,UAAUR,KAAKI,KAAnB,EAA0B;AACxB,UAAIG,WAAWU,MAAf,EAAuB;AACrBhB,WAAGiB,cAAH;AACAR,qBAAaS,aAAb,CAA2B;AACzBZ,kBAASA,MADgB;AAEzBU,kBAASA;AAFgB,SAA3B;AAID,OAND,MAMO;AACL,eAAOG,SAAP;AACD;AACF,KAVD,MAUO,IAAIZ,UAAUR,KAAKqB,IAAnB,EAAyB;AAC9BpB,SAAGiB,cAAH;AACAR,mBAAaY,YAAb,CAA0B;AACxBf,gBAASA,MADe;AAExBU,gBAASA;AAFe,OAA1B;AAID;AACF,GAvBD;AAwBD,CAzBD;;AA2BA,IAAMM,oBAAoB,SAApBA,iBAAoB,CAACvB,IAAD,EAAU;AAClC,SAAO,UAASC,EAAT,EAAY;AACjBA,OAAGiB,cAAH;AACA,SAAKM,qBAAL,CAA2BvB,EAA3B,EAA+BD,KAAKI,KAApC;AACD,GAHD;AAID,CALD;;AAOA,IAAMqB,wBAAwB,SAAxBA,qBAAwB,CAASxB,EAAT,EAAY;AACvCA,KAAGiB,cAAH;AACF,CAFD;;AAIA,IAAMQ,yBAAyB,SAAzBA,sBAAyB,CAASzB,EAAT,EAAY;AACxCA,KAAGiB,cAAH;AACA,OAAKS,qBAAL,CAA2B1B,EAA3B;AACF,CAHD;;AAKA,IAAM2B,eAAe,SAAfA,YAAe,CAAC5B,IAAD,EAAOU,YAAP,EAAwB;AAC3C,SAAO,UAACmB,MAAD,EAAY;AACjBC,WAAOC,MAAP,CAAcF,OAAOG,SAArB,EAAgC;AAC9BC,8BAAwBlC,kBAAkBC,IAAlB,CADM;AAE9BkC,yBAAmBzB,aAAaT,IAAb,EAAmBU,YAAnB,CAFW;AAG9ByB,8BAAwBZ,kBAAkBvB,IAAlB,CAHM;AAI9ByB,6BAAuBA,qBAJO;AAK9BC,8BAAwBA;AALM,KAAhC;AAOD,GARD;AASD,CAVD;;kBAYeE,Y","file":"withDnDGroup.js","sourcesContent":["\r\nimport fnDnD from './fnDnD';\r\n\r\nconst _crDragStartGroup = (DRAG) => {\r\n  return function({ caption }, ev){\r\n     this.dragStartWithDnDStyle(ev, [DRAG.GROUP])\r\n     fnDnD.setTransferTo({\r\n       event: ev,\r\n       dragId: `${caption};`,\r\n       xType: DRAG.GROUP\r\n     })\r\n  };\r\n};\r\n\r\nconst _crDropGroup = (DRAG, WatchActions) => {\r\n  return function({ caption }, ev) {\r\n    this.dropWithDnDStyle(ev)\r\n    const data = JSON.parse(ev.dataTransfer.getData(\"text\"))\r\n       ,  { xType, dragId } = data\r\n       ,  dropId =  `${caption};`;\r\n\r\n    if (xType === DRAG.GROUP) {\r\n      if (dragId !== dropId) {\r\n        ev.preventDefault()\r\n        WatchActions.dragDropGroup({\r\n          dragId : dragId,\r\n          dropId : dropId\r\n        })\r\n      } else {\r\n        return undefined;\r\n      }\r\n    } else if (xType === DRAG.LIST) {\r\n      ev.preventDefault()\r\n      WatchActions.dragDropList({\r\n        dragId : dragId,\r\n        dropId : dropId\r\n      })\r\n    }\r\n  };\r\n};\r\n\r\nconst _crDragEnterGroup = (DRAG) => {\r\n  return function(ev){\r\n    ev.preventDefault()\r\n    this.dragEnterWithDnDStyle(ev, DRAG.GROUP)\r\n  };\r\n};\r\n\r\nconst _handlerDragOverGroup = function(ev){\r\n   ev.preventDefault()\r\n};\r\n\r\nconst _handlerDragLeaveGroup = function(ev){\r\n   ev.preventDefault()\r\n   this.dragLeaveWithDnDStyle(ev)\r\n};\r\n\r\nconst withDnDGroup = (DRAG, WatchActions) => {\r\n  return (target) => {\r\n    Object.assign(target.prototype, {\r\n      _handlerDragStartGroup: _crDragStartGroup(DRAG),\r\n      _handlerDropGroup: _crDropGroup(DRAG, WatchActions),\r\n      _handlerDragEnterGroup: _crDragEnterGroup(DRAG),\r\n      _handlerDragOverGroup: _handlerDragOverGroup,\r\n      _handlerDragLeaveGroup: _handlerDragLeaveGroup\r\n    })\r\n  };\r\n}\r\n\r\nexport default withDnDGroup\r\n"]}