{"version":3,"sources":["../../../../src/components/watch-browser/decorators/withDnDStyle.js"],"names":["BORDER","BORDER_BOTTOM","BORDER_LEFT","ENTER_BORDER_LEFT_STYLE","ENTER_BORDER_LEFT_STYLE_DENY","sourcePermissions","nodeDragTarget","borderBottom","borderLeftEnter","dragStartWithDnDStyle","ev","permissions","persist","currentTarget","style","getPropertyValue","dropWithDnDStyle","styleTarget","styleSource","removeProperty","setProperty","dragEnterWithDnDStyle","sourceType","indexOf","dragLeaveWithDnDStyle","withDnDStyle","target","Object","assign","prototype"],"mappings":";;;;;;AACA,IAAMA,SAAS,QAAf,CAAwB;AAAxB;AAAA,IACMC,gBAAgB,eADtB,CACsC;AADtC;AAAA,IAEMC,cAAc,aAFpB,CAEkC;AAC9B;AAHJ;AAAA,IAIMC,0BAA0B,iBAJhC;AAAA,IAKMC,+BAA+B,eALrC;;AAOA,IAAIC,0BAAJ;AAAA,IACIC,uBADJ;AAAA,IAEIC,qBAFJ;AAAA,IAGIC,wBAHJ;;AAKA,IAAMC,wBAAwB,SAAxBA,qBAAwB,CAASC,EAAT,EAAaC,WAAb,EAAyB;AACrDD,KAAGE,OAAH;AACAN,mBAAiBI,GAAGG,aAApB;;AAEA,MAAMC,QAAQJ,GAAGG,aAAH,CAAiBC,KAA/B;AACAP,iBAAeO,MAAMC,gBAAN,CAAuBd,aAAvB,CAAf;AACA;;AAEAI,sBAAoBM,WAApB;AACD,CATD;AAUA,IAAMK,mBAAmB,SAAnBA,gBAAmB,CAASN,EAAT,EAAY;AACnC,MAAMO,cAAcX,eAAeQ,KAAnC;AAAA,MACMI,cAAcR,GAAGG,aAAH,CAAiBC,KADrC;AAEAI,cAAYC,cAAZ,CAA2BjB,WAA3B;AACAe,cAAYE,cAAZ,CAA2BnB,MAA3B;AACAiB,cAAYG,WAAZ,CAAwBnB,aAAxB,EAAuCM,YAAvC;AACD,CAND;AAOA,IAAMc,wBAAwB,SAAxBA,qBAAwB,CAASX,EAAT,EAAaY,UAAb,EAAwB;AACpD,MAAMR,QAAQJ,GAAGG,aAAH,CAAiBC,KAA/B;AACAN,oBAAkBM,MAAMC,gBAAN,CAAuBb,WAAvB,CAAlB;;AAEA,MAAIG,kBAAkBkB,OAAlB,CAA0BD,UAA1B,MAA0C,CAAC,CAA/C,EAAkD;AAChDR,UAAMM,WAAN,CAAkBlB,WAAlB,EAA+BC,uBAA/B;AACD,GAFD,MAEO;AACLW,UAAMM,WAAN,CAAkBlB,WAAlB,EAA+BE,4BAA/B;AACD;AACF,CATD;AAUA,IAAMoB,wBAAwB,SAAxBA,qBAAwB,CAASd,EAAT,EAAY;AACxC,MAAMI,QAAQJ,GAAGG,aAAH,CAAiBC,KAA/B;AACAA,QAAMK,cAAN,CAAqBjB,WAArB;AACAY,QAAMM,WAAN,CAAkBlB,WAAlB,EAA+BM,eAA/B;AACD,CAJD;;AAMA,IAAMiB,eAAe,SAAfA,YAAe,CAACC,MAAD,EAAY;AAC/BC,SAAOC,MAAP,CAAcF,OAAOG,SAArB,EAAgC;AAC9BpB,2BAAuBA,qBADO;AAE9BO,sBAAkBA,gBAFY;AAG9BK,2BAAuBA,qBAHO;AAI9BG,2BAAuBA;AAJO,GAAhC;AAMD,CAPD;;kBASeC,Y","file":"withDnDStyle.js","sourcesContent":["\r\nconst BORDER = 'border' // dragStart\r\n    , BORDER_BOTTOM = 'border-bottom' // backup\r\n    , BORDER_LEFT = 'border-left' // dragEnter\r\n    //, START_BORDER_STYLE = \"1px solid yellow\"\r\n    , ENTER_BORDER_LEFT_STYLE = \"4px solid green\"\r\n    , ENTER_BORDER_LEFT_STYLE_DENY = \"4px solid red\";\r\n\r\nlet sourcePermissions\r\n  , nodeDragTarget\r\n  , borderBottom\r\n  , borderLeftEnter;\r\n\r\nconst dragStartWithDnDStyle = function(ev, permissions){\r\n  ev.persist()\r\n  nodeDragTarget = ev.currentTarget\r\n\r\n  const style = ev.currentTarget.style;\r\n  borderBottom = style.getPropertyValue(BORDER_BOTTOM)\r\n  //style.setProperty(BORDER, START_BORDER_STYLE);\r\n\r\n  sourcePermissions = permissions\r\n};\r\nconst dropWithDnDStyle = function(ev){\r\n  const styleTarget = nodeDragTarget.style\r\n      , styleSource = ev.currentTarget.style;\r\n  styleSource.removeProperty(BORDER_LEFT)\r\n  styleTarget.removeProperty(BORDER)\r\n  styleTarget.setProperty(BORDER_BOTTOM, borderBottom)\r\n};\r\nconst dragEnterWithDnDStyle = function(ev, sourceType){\r\n  const style = ev.currentTarget.style;\r\n  borderLeftEnter = style.getPropertyValue(BORDER_LEFT)\r\n\r\n  if (sourcePermissions.indexOf(sourceType) !== -1) {\r\n    style.setProperty(BORDER_LEFT, ENTER_BORDER_LEFT_STYLE)\r\n  } else {\r\n    style.setProperty(BORDER_LEFT, ENTER_BORDER_LEFT_STYLE_DENY)\r\n  }\r\n};\r\nconst dragLeaveWithDnDStyle = function(ev){\r\n  const style = ev.currentTarget.style;\r\n  style.removeProperty(BORDER_LEFT)\r\n  style.setProperty(BORDER_LEFT, borderLeftEnter)\r\n};\r\n\r\nconst withDnDStyle = (target) => {\r\n  Object.assign(target.prototype, {\r\n    dragStartWithDnDStyle: dragStartWithDnDStyle,\r\n    dropWithDnDStyle: dropWithDnDStyle,\r\n    dragEnterWithDnDStyle: dragEnterWithDnDStyle,\r\n    dragLeaveWithDnDStyle: dragLeaveWithDnDStyle\r\n  })  \r\n}\r\n\r\nexport default withDnDStyle\r\n"]}